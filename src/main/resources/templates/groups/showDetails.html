<!DOCTYPE html>
<html lang="pl" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>GRUPY</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet"/>
    <link th:href="@{/css/my.css}" rel="stylesheet"/>
</head>
<body>
<div class="container">
    <table class="usermenutable">
        <tr>
            <td class="usermenu20">
                        <span>
                            <a class="btn btn-warning usermenu"  th:href="@{'/'}" th:text="'MENU GŁÓWNE'">
                            </a>
                        </span>
            </td>
            <td class="usermenu30">
                        <span>
                            <a class="btn btn-success usermenu"  th:href="@{'/admin/'}" th:text="'ADMINISTRATOR: ' + ${iam.name} + ' ' + ${iam.surname}">
                            </a>
                        </span>
            </td>
            <td class="usermenu20">
                        <span>
                            <a class="btn btn-secondary usermenu"  th:href="@{'/admin/community'}">
                              WSPÓLNOTY
                            </a>
                        </span>
            </td>
            <td class="usermenu20">
                        <span>
                            <a class="btn btn-info usermenu"  th:href="@{'/admin/circles/add/' + ${group.id}}">
                               (+) KRĄG (+)
                            </a>
                        </span>
            </td>
            <td class="usermenu10">
                <span>
                    <form th:action="@{/logout}" method="post" >
                        <input class="btn btn-warning usermenu" type="submit" value="WYLOGUJ"/>
                    </form>
                </span>
            </td>
        </tr>
    </table >
    <table class="usermenutable"><tr><td><button type="button" class="btn btn-lg btn-warning usermenu" disabled th:text="'PODZIAŁ NA KRĘGI GRUPY: ' + ${group.name}"></button></td></tr></table>
    <th:block th:each="circle : ${circles}">
        <table class="usermenutable">
            <thead>
            <br>
            <tr>
                <th class="usermenu80">
                    <a class="btn btn-lg btn-success usermenu" th:text="'KRĄG NUMER:' + ${circle.number}" th:href="@{'/admin/circles/view/' + ${circle.id}} ">
                    </a>
                </th>
                <th class="usermenu10">
                    <span>
                        <a class="btn btn-lg btn-secondary usermenu" th:href="@{'/admin/circles/edit/' + ${circle.id}} ">
                            EDYTUJ
                        </a>
                    </span>
                </th>
                <th class="usermenu10">
                    <span>
                        <a class="btn btn-lg btn-danger usermenu" th:href="@{'/admin/circles/delete/' + ${circle.id}} ">
                            USUŃ
                        </a>
                    </span>
                </th>
            </tr>
            </thead>
        </table>
        <table class="usermenutable">
            <thead>
            <tr>
                <th class="usermenu30" >
                    <span class="btn btn-secondary usermenu disabled" style="text-align: left" th:text="'Imię i Nazwisko'"></span>
                </th>
                <th class="usermenu30" >
                    <span class="btn btn-secondary usermenu disabled" style="text-align: left" th:text="'e-Mail'"></span>
                </th>
                <th class="usermenu20" >
                    <span class="btn btn-secondary usermenu disabled" style="text-align: left" th:text="'Numer telefonu'"></span>
                </th>
                <th class="usermenu10" >
                    <span class="btn btn-secondary usermenu disabled" style="text-align: center" th:text="'[ODP]'"></span>
                </th>
                <th class="usermenu10" >
                    <span class="btn btn-secondary usermenu disabled" style="text-align: center" th:text="'[USUŃ]'"></span>
                </th>
            </tr>
            </thead>
            <th:block th:each="member : ${circle.members}">
                <tr>
                    <td class="usermenu30" >
                        <span th:if="${member.id == circle.responsible}" class="btn btn-primary usermenu disabled" style="text-align: left" th:text="${member.name} + ' ' + ${member.surname} + ' [ODP]'"></span>
                        <span th:unless="${member.id == circle.responsible}" class="btn btn-outline-secondary usermenu disabled" style="text-align: left" th:text="${member.name} + ' ' + ${member.surname}"></span>
                    </td>
                    <td class="usermenu30" >
                        <span th:if="${member.id == circle.responsible}" class="btn btn-primary usermenu disabled" style="text-align: left" th:text="${member.email}"></span>
                        <span th:unless="${member.id == circle.responsible}" class="btn btn-outline-secondary usermenu disabled" style="text-align: left" th:text="${member.email}"></span>
                    </td>
                    <td class="usermenu20" >
                        <span th:if="${member.id == circle.responsible}" class="btn btn-primary usermenu disabled" style="text-align: left" th:text="${member.phone}"></span>
                        <span th:unless="${member.id == circle.responsible}" class="btn btn-outline-secondary usermenu disabled" style="text-align: left" th:text="${member.phone}"></span>
                    </td>
                    <td class="usermenu10" >
                        <span th:if="${member.id == circle.responsible}" class="btn btn-danger usermenu disabled" th:text="'X'"></span>
                        <span th:unless="${member.id == circle.responsible}">
                            <a class="btn btn-outline-secondary usermenu" style="text-align: center" th:text="'+'" th:href="@{'/admin/circles/chengeResp/' + ${circle.id} + '/' + ${member.id}} "></a>
                        </span>
                    </td>
                    <td class="usermenu10" >
                        <span th:if="${member.id == circle.responsible}">
                            <a class="btn btn-primary usermenu" style="text-align: center" th:text="'-'" th:href="@{'/admin/circles/removeMemb/' + ${circle.id} + '/' + ${member.id}} "></a>
                        </span>
                        <span th:unless="${member.id == circle.responsible}">
                            <a class="btn btn-outline-secondary usermenu" style="text-align: center" th:text="'-'" th:href="@{'/admin/circles/removeMemb/' + ${circle.id} + '/' + ${member.id}} "></a>
                        </span>
                    </td>
                </tr>
            </th:block>
        </table>
        <span th:if="${events}">
            <th:block th:each="event : ${events}">

            </th:block>
        </span>
        <table class="usermenutable">
            <tr>
                <td>
                    <a class="btn btn-secondary usermenu" style="text-align: center" th:text="'(+) DODAJ NOWE ZADANIE (+)'" th:href="@{'/admin/events/addEvent/' + ${circle.id}} "></a>
                </td>
            </tr>
            <tr>
                <td>
                    <a class="btn btn-secondary usermenu" style="text-align: center" th:text="'(+) DODAJ NOWEGO CZŁONKA DO KRĘGU (+)'" th:href="@{'/admin/circles/addOneMember/' + ${circle.id}} "></a>
                </td>
            </tr>
        </table>
    </th:block>

    <a class="btn btn-lg btn-secondary btn-block"  th:href="@{'/admin/groups/' + ${community.id}}" th:text="'Powrót do strony GRUPY TEJ WSPÓLNOTY'"></a>
</div>
</body>
</html>